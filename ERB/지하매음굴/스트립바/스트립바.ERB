@스트립바
PRINTFORML 스트립 바에 왔다...
$스트립바루프
DRAWLINE
CALL 스트립바정경묘사
DRAWLINE
CALL 스트립바커맨드
$스트립바입력
INPUT
IF RESULT == 999
    RETURN 1
ELSEIF RESULT == 100
    CALL 스트립바주문
ELSEIF RESULT == 101
    CALL 촉수궁경마장
ELSE
    GOTO 스트립바입력
ENDIF
GOTO 스트립바루프

@스트립바정경묘사


@스트립바커맨드
PRINTFORML [100] 주문
PRINTFORML [101] 촉수궁 경마장
PRINTFORML [999] 돌아간다


@스트립바주문
PRINTFORML "안녕~하세요~"
$스트립바주문루프
DRAWLINE
PRINTFORML "어떤 걸 원하시나요~?"
DRAWLINE


PRINTFORML [999]돌아간다
INPUT
IF RESULT == 999
    RETURN 1
ELSE

ENDIF

@촉수궁경마장
#DIM DYNAMIC 베팅대상
PRINTFORML 바 한 켠에 놓은 TV에서 출발선에 선 소녀들이 보인다...
PRINTFORML 한편 누가 우승할 지 베팅이 시작되고 있는 모양이다
PRINTFORML 참여하시겠습니까?
PRINTFORML [1] 참여한다
PRINTFORML [2] 관전만
PRINTFORML [9] 돌아간다
$경마장초기입력
INPUT
IF RESULT == 9
    RETURN 1
ELSEIF RESULT == 1
    PRINTFORML 누구에게 돈을 걸까?
    CALL 창녀목록(0)
    PRINTFORML [999]돌아간다
    $베팅대상선정
    INPUT
    IF RESULT == 999
        RESTART
    ELSE
        IF (TALENT:RESULT:창녀 == 1||TALENT:RESULT:렌탈창녀 == 1)&&(CFLAG:RESULT:창관일 == 5)&&CFLAG:RESULT:오늘몸팜 == 0
            베팅대상 = RESULT
            CALL 촉수궁(베팅대상)
        ELSE
            GOTO 베팅대상선정
        ENDIF
    ENDIF
ELSEIF RESULT == 2
    CALL 촉수궁(0)
ELSE
    GOTO 경마장초기입력
ENDIF

@촉수궁(ARG)
#DIM DYNAMIC 참여자, 10
#DIM DYNAMIC 참여자임시배열, 300
#DIM DYNAMIC 참여자임시포인터
#DIM DYNAMIC 참여자포인터

;PHASE 1 참여자 선정
참여자포인터 = 1
참여자:0 = ARG
FOR LOCAL, 1, CHARANUM
    IF (TALENT:LOCAL:창녀 == 1||TALENT:LOCAL:렌탈창녀 == 1)&&(CFLAG:LOCAL:창관일 == 5)&&CFLAG:LOCAL:오늘몸팜 == 0
        IF ARG != 0&&LOCAL != ARG
            참여자임시배열:참여자임시포인터 = LOCAL
            참여자임시포인터++
        ENDIF
    ENDIF
NEXT
IF 참여자:0 == 0
    FOR LOCAL, 0, 9
        FOR LOCAL:1,0,참여자임시포인터-1
            IF RAND:3 == 0
                참여자:참여자포인터 = 참여자임시배열:LOCAL:1
                참여자포인터 ++
            ENDIF
            IF 참여자포인터 >= 9
                BREAK
            ENDIF
        NEXT
        IF 참여자포인터 >= 9
            BREAK
        ENDIF
    NEXT
ELSE
    FOR LOCAL, 1, 9
        FOR LOCAL:1,0,참여자임시포인터-1
            IF RAND:3 == 0
                참여자:참여자포인터 = 참여자임시배열:LOCAL:1
                참여자포인터 ++
            ENDIF
            IF 참여자포인터 >= 9
                BREAK
            ENDIF
        NEXT
        IF 참여자포인터 >= 9
            BREAK
        ENDIF
    NEXT
ENDIF

PRINTL
PRINTFORML ★★★★★★★★참가자 선정 완료★★★★★★★★
SIF 참여자:0 != 0
    PRINTFORML 1번 참여자 : %CALLNAME:(참여자:0)%
SIF 참여자:1 != 0
    PRINTFORML 2번 참여자 : %CALLNAME:(참여자:1)%
SIF 참여자:2 != 0
    PRINTFORML 3번 참여자 : %CALLNAME:(참여자:2)%
SIF 참여자:3 != 0
    PRINTFORML 4번 참여자 : %CALLNAME:(참여자:3)%
SIF 참여자:4 != 0
    PRINTFORML 5번 참여자 : %CALLNAME:(참여자:4)%
SIF 참여자:5 != 0
    PRINTFORML 6번 참여자 : %CALLNAME:(참여자:5)%
SIF 참여자:6 != 0
    PRINTFORML 7번 참여자 : %CALLNAME:(참여자:6)%
SIF 참여자:7 != 0
    PRINTFORML 8번 참여자 : %CALLNAME:(참여자:7)%
SIF 참여자:8 != 0
    PRINTFORML 9번 참여자 : %CALLNAME:(참여자:8)%
SIF 참여자:9 != 0
    PRINTFORML 10번 참여자 : %CALLNAME:(참여자:9)%

;PHASE 2 맵 선정

;PHASE 3 런

;PHASE 4 결과 반환
@세금징수

PRINTL
DRAWLINE
PRINTFORML %GET_MONTH()%분 세금을 징수합니다
PRINTFORML 이번달의 세율 : {세금퍼밀계산()/10}.{세금퍼밀계산() % 10}\%
IF 세금퍼밀계산() <= 0
    PRINTFORML 세금 과세 대상이 아닙니다, 이번달 세금은 면제입니다
ELSE
    PRINTFORML 내야할 세금 : {(MONEY*세금퍼밀계산())/1000}
    PRINTFORML 지불 전 소지금 : {MONEY}
    MONEY -= (MONEY*세금퍼밀계산())/1000
    PRINTFORML 지불 후 소지금 : {MONEY}
    PRINTFORML 감사합니다
ENDIF
DRAWLINE
PRINTFORML 
RETURN


@세금퍼밀계산()
#FUNCTION
#DIM DYNAMIC 세율계산
;단위는 퍼밀
SELECTCASE MONEY/10000
    CASE IS >= 1500
        세율계산 = 400
    CASE IS >= 1000
        세율계산 = 370
    CASE IS >= 900
        세율계산 = 340
    CASE IS >= 800
        세율계산 = 310
    CASE IS >= 700
        세율계산 = 280
    CASE IS >= 600
        세율계산 = 250
    CASE IS >= 550
        세율계산 = 230
    CASE IS >= 500
        세율계산 = 210
    CASE IS >= 450
        세율계산 = 190
    CASE IS >= 400
        세율계산 = 170
    CASE IS >= 350
        세율계산 = 150
    CASE IS >= 300
        세율계산 = 135
    CASE IS >= 250
        세율계산 = 120
    CASE IS >= 200
        세율계산 = 105
    CASE IS >= 150
        세율계산 = 95
    CASE IS >= 100
        세율계산 = 85
    CASE IS >= 90
        세율계산 = 75
    CASE IS >= 80
        세율계산 = 65
    CASE IS >= 70
        세율계산 = 55
    CASE IS >= 60
        세율계산 = 45
    CASE IS >= 50
        세율계산 = 35
    CASE IS >= 40
        세율계산 = 30
    CASE IS >= 30
        세율계산 = 25
    CASE IS >= 20
        세율계산 = 20
    CASE IS >= 10
        세율계산 = 15
    CASE IS >= 8
        세율계산 = 10
    CASE IS >= 6
        세율계산 = 5
    CASE IS > 5
        세율계산 = 1
    CASEELSE
        세율계산 = 0
ENDSELECT

IF 세율계산 >= 35
    IF ITEM:주택
        세율계산 += ITEM:주택 * 40
    ELSE
        세율계산 = MAX(0,세율계산 - 10)
    ENDIF
ENDIF

RETURNF 세율계산